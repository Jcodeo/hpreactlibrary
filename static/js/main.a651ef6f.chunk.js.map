{"version":3,"sources":["Book/Book.styles.ts","Book/Book.tsx","CartItem/CartItem.tsx","Cart/Cart.tsx","App.tsx","index.tsx"],"names":["Wrapper","styled","div","Book","book","handleAddToCart","className","src","cover","alt","title","synospis","price","onClick","CartItem","item","addToCart","Cart","cartItems","length","map","id","getBooks","a","fetch","json","App","useState","cartOpen","setCartOpen","setCartItems","useQuery","data","isLoading","error","console","log","LinearProgress","items","clickedItem","prev","Drawer","anchor","open","onClose","AddShoppingCart","reduce","ack","amount","Grid","client","QueryClient","ReactDOM","render","document","getElementById"],"mappings":"qRAEaA,E,MAAUC,EAAOC,IAAV,0B,OCsBLC,EAfe,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAMC,EAAR,EAAQA,gBAAR,OAC1B,cAACL,EAAD,UACI,qBAAKM,UAAU,YAAf,SACI,sBAAKA,UAAU,aAAf,UACI,qBAAKA,UAAU,aAAf,SAA4B,qBAAKC,IAAMH,EAAKI,MAAQC,IAAML,EAAKM,UAC/D,qBAAKJ,UAAU,aAAf,SAA8BF,EAAKM,QACnC,qBAAKJ,UAAU,YAAf,SAA6BF,EAAKO,WAClC,sBAAKL,UAAU,cAAf,UACI,sBAAKA,UAAU,aAAf,UAA8BF,EAAKQ,MAAnC,YACA,mBAAGC,QAAS,kBAAMR,EAAgBD,IAAlC,SAAyC,sBAAME,UAAU,QAAhB,kCCF9CQ,G,MAPmB,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAF,EAAQC,UAAR,OAC9B,sBAAKV,UAAU,YAAf,UACI,qBAAKA,UAAU,aAAf,SAA6BS,EAAKL,QAClC,qBAAKJ,UAAU,aAAf,SAA6BS,EAAKH,aCc3BK,G,MAhBe,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,UAAWF,EAAgB,EAAhBA,UACxC,OACI,sBAAKV,UAAU,eAAf,UACI,qBAAKA,UAAU,aAAf,wBACsB,IAArBY,EAAUC,OAAe,0EAAgD,KACzED,EAAUE,KAAI,SAAAL,GAAI,OACf,cAAC,EAAD,CAEIA,KAAMA,EACNC,UAAWA,GAFND,EAAKM,Y,oCCKxBC,G,MAAQ,uCAAG,sBAAAC,EAAA,sEACHC,MAFI,uCACD,8BACeC,OADf,mFAAH,sDAuDCC,EApDH,WACV,MAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAkCF,mBAAS,IAA3C,mBAAOT,EAAP,KAAkBY,EAAlB,KACA,EAAmCC,mBACjC,QACAT,GAFMU,EAAR,EAAQA,KAAMC,EAAd,EAAcA,UAAWC,EAAzB,EAAyBA,MAMzB,GAFAC,QAAQC,IAAIJ,GAETC,EAAW,OAAO,cAACI,EAAA,EAAD,IAErB,GAAGH,EAAO,OAAO,wIAEjB,IAMuBI,EANjBjC,EAAkB,SAACkC,GACvBT,GAAa,SAAAU,GACX,MAAM,GAAN,mBAAWA,GAAX,gBAAsBD,SAO1B,OACE,gCACE,cAACE,EAAA,EAAD,CAAQC,OAAO,QAAQC,KAAMf,EAAUgB,QAAS,kBAAMf,GAAY,IAAlE,SACE,cAAC,EAAD,CAAMX,UAAWA,EAAWF,UAAWX,MAEzC,sBAAKC,UAAU,SAAf,UACI,sBAAMA,UAAU,OAAhB,wBACA,qBAAKA,UAAU,WACf,oBAAGO,QAAS,kBAAMgB,GAAY,IAA9B,UAAqC,cAACgB,EAAA,EAAD,IAAkB,sBAAMvC,UAAU,WAAhB,UAXxCgC,EAWkFpB,EAVvGoB,EAAMQ,QAAO,SAACC,EAAahC,GAAd,OAAuBgC,EAAMhC,EAAKiC,SAAQ,YAYrD,qBAAK1C,UAAU,eAAf,SACE,sBAAKA,UAAU,iBAAf,UACE,sBAAKA,UAAU,aAAf,UACI,qBAAKA,UAAU,YAAf,+EACA,qBAAKA,UAAU,QAAf,wBACA,qBAAKA,UAAU,WAAf,qjBAEJ,qBAAKA,UAAU,YAAf,gBACG0B,QADH,IACGA,OADH,EACGA,EAAMZ,KAAI,SAAAL,GAAI,OACb,cAACkC,EAAA,EAAD,CAAMlC,MAAI,EAAV,SACE,cAAC,EAAD,CAAMX,KAAMW,EAAMV,gBAAiBA,KADtB,2BC5DvB6C,EAAS,IAAIC,cAEnBC,IAASC,OACP,cAAC,sBAAD,CAAqBH,OAAQA,EAA7B,SACE,cAAC,EAAD,MAEFI,SAASC,eAAe,W","file":"static/js/main.a651ef6f.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const Wrapper = styled.div``;","import { Button } from \"@material-ui/core\";\r\nimport { CartItemType } from \"../App\";\r\nimport { Wrapper } from \"./Book.styles\";\r\n\r\ntype Props = {\r\n    book: CartItemType;\r\n    handleAddToCart: (clickedItem: CartItemType) => void;\r\n}\r\n\r\nconst Book: React.FC<Props> = ({book, handleAddToCart}) => (\r\n    <Wrapper>\r\n        <div className=\"book-item\">        \r\n            <div className=\"book-infos\">\r\n                <div className=\"book-cover\"><img src={ book.cover } alt={ book.title } /></div>\r\n                <div className=\"book-title\">{ book.title }</div> \r\n                <div className=\"book-desc\">{ book.synospis }</div> \r\n                <div className=\"book-bottom\">\r\n                    <div className=\"book-price\">{ book.price }€</div> \r\n                    <a onClick={() => handleAddToCart(book)}><span className=\"added\">Ajouter</span></a>\r\n                </div>\r\n            </div> \r\n        </div>\r\n    </Wrapper>\r\n);\r\nexport default Book;","import { Button } from \"@material-ui/core\";\r\nimport { CartItemType } from \"../App\";\r\nimport './CartItem.scss';\r\n\r\ntype Props = {\r\n    item: CartItemType;\r\n    addToCart: (clickedItem: CartItemType) => void;\r\n}\r\n\r\nconst CartItem: React.FC<Props> = ({item, addToCart}) => (\r\n    <div className=\"cart-list\">\r\n        <div className=\"item-title\">{item.title}</div>\r\n        <div className=\"item-price\">{item.price}</div>\r\n    </div>\r\n);\r\n\r\nexport default CartItem;","\r\nimport CartItem from '../CartItem/CartItem';\r\nimport { CartItemType } from '../App';\r\nimport './Cart.style.scss';\r\n\r\ntype Props = {\r\n    cartItems: CartItemType[];\r\n    addToCart: (clickedItem: CartItemType) => void;\r\n};\r\n\r\nconst Cart: React.FC<Props> = ({ cartItems, addToCart }) => {\r\n    return(\r\n        <div className=\"cart-wrapper\">\r\n            <div className=\"cart-title\">Mon panier</div>\r\n            {cartItems.length === 0 ? <p>Vous n'avez pas encore ajouté de livre</p> : null}\r\n            {cartItems.map(item =>(\r\n                <CartItem \r\n                    key={item.id}\r\n                    item={item}\r\n                    addToCart={addToCart}\r\n                />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cart;","import { useState } from 'react';\nimport { isError, useQuery } from 'react-query';\n\nimport Book from './Book/Book';\nimport Cart from './Cart/Cart';\nimport Drawer from '@material-ui/core/Drawer';\nimport { LinearProgress } from '@material-ui/core';\nimport { Grid } from '@material-ui/core';\nimport { AddShoppingCart } from '@material-ui/icons';\nimport { BadgeOrigin } from '@material-ui/core/Badge';\nimport './App.style.scss';\n\nexport type CartItemType = {\n  id : number;\n\tcover : string;\n\ttitle : string;\n  isbn : string;\n\tsynospis : string;\n\tprice : number;\n\tamount : number;\n}\nconst BOOKS_URL = \"https://henri-potier.techx.fr/books\";\nconst getBooks = async (): Promise<CartItemType[]> => \n\tawait (await fetch(BOOKS_URL)).json();\n\nconst App = () => {\n  const [cartOpen, setCartOpen] = useState(false);\n  const [cartItems, setCartItems] = useState([] as CartItemType[]);\n  const { data, isLoading, error } = useQuery<CartItemType[]>(\n    'books', \n    getBooks\n  );\n  console.log(data);\n\n  if(isLoading) return <LinearProgress />;\n\n  if(error) return <div>Oops! Il semble que l'application n'a pas pu se connecter à l'API pour récupérer les livres!</div>;\n\n  const handleAddToCart = (clickedItem: CartItemType) => {\n    setCartItems(prev => {\n      return [...prev, { ...clickedItem }];\n    });\n  };\n\n  const getTotalItems = (items: CartItemType[]) => \n    items.reduce((ack: number, item) => ack + item.amount, 0);\n\n  return (\n    <div>\n      <Drawer anchor='right' open={cartOpen} onClose={() => setCartOpen(false)}>\n        <Cart cartItems={cartItems} addToCart={handleAddToCart}/>\n      </Drawer>\n      <div className=\"header\">\n          <span className=\"logo\">HP Library</span> \n          <div className=\"spacer\"></div>\n          <a onClick={() => setCartOpen(true)}><AddShoppingCart/><span className=\"quantity\">{getTotalItems(cartItems)}</span></a>\n      </div>\n      <div className=\"book-wrapper\">\n        <div className=\"book-container\">\n          <div className=\"book-intro\">\n              <div className=\"pre-title\">Découvrez le monde merveilleux d'Harry Potter et ses aventures</div>\n              <div className=\"title\">Nos livres</div>\n              <div className=\"accroche\">Le premier livre de Harry Potter, Harry Potter et la pierre philosophale, a été publié par Bloomsbury en 1997 et a immédiatement été acclamé par le public et la critique. Six autres best-sellers, trois livres d'accompagnement, un scénario et deux scénarios ont suivi depuis. Les livres Harry Potter ont été traduits dans plus de 80 langues, ont remporté de nombreux prix et se sont vendus à plus de 500 millions d'exemplaires dans le monde, devenant ainsi la série de livres la plus vendue de l'histoire...</div>\n          </div>\n          <div className=\"book-list\">\n            {data?.map(item => (\n              <Grid item key=\"{item.id}\">\n                <Book book={item} handleAddToCart={handleAddToCart} />\n              </Grid>  \n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport { QueryClient, QueryClientProvider } from 'react-query';\n\nconst client = new QueryClient();\n\nReactDOM.render(\n  <QueryClientProvider client={client}>\n    <App />\n  </QueryClientProvider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}